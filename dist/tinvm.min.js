!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.tinvm=o()}(this,function(){"use strict";function t(e,r){o(e,r),e.hasChildNodes()&&e.forEach(function(o){t(o,r)})}function o(t,o){for(var e=t.attributes||[],r=0;r<e.length;r++){var n=e[r].nodeName;if(s.test(n)){var i=n.replace("-",""),p={node:t,model:o,expression:e[r].value};new(0,u[i])(p)}}}var e=function(){this.watchers=[]};e.prototype.add=function(t){this.watchers.push(t)},e.prototype.notify=function(){this.watchers.forEach(function(t){t.run()})},e.prototype.destory=function(){this.watchers=[]};var r=function(t){this.observe(t)};r.prototype.observe=function(t){var o=this;Object.keys(t).forEach(function(e){var r=t[e];o.defineProperty(t,e,r);var n=Object.prototype.toString.call(r);"[object Object]"===n?o.observe(r):"[object Array]"===n&&o.proxyArray(t,e,r)})},r.prototype.defineProperty=function(t,o,r){var n=new e;if("[object Array]"===Object.prototype.toString.call(r)){var i=new e;r.__ob__=i}Object.defineProperty(t,o,{get:function(){return e.target&&(n.add(target),childDep&&childDep.add(target)),r},set:function(t){r!==t&&n.notify()}})},r.prototype.proxyArray=function(t,o,e){var r=arguments,n=Array.prototype;["push","pop","shift","reverse","unshift","splice","sort"].forEach(function(i){e[i]=function(){var p=e.__ob__;p&&p.notify(),n[i].call(t[o],r)}})};var n=function(t,o,r){this.raw=t,this.model=o,this.update=r,e.target=this,this.oldValue=this.getValue()};n.prototype.run=function(){var t=this.getValue(),o=this.oldValue;this.update(o,t)},n.prototype.getValue=function(){return new Function("model","raw","return model."+raw)(this.model,this.raw)};var i=function(t){this.el=t.node,this.expression=t.expression,this.model=t.model,this.init()};i.prototype.init=function(){var t=new n(this.expression,this.model,this.update.bind(this));this.update(t.value)};var p=function(t){function o(){for(var o=[],e=arguments.length;e--;)o[e]=arguments[e];t.apply(this,o)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.update=function(t){},o}(i),c=function(t){function o(){for(var o=[],e=arguments.length;e--;)o[e]=arguments[e];t.apply(this,o)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.update=function(t){this.el.style.display=t?"":"none"},o}(i),a=function(t){function o(){for(var o=[],e=arguments.length;e--;)o[e]=arguments[e];t.apply(this,o)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.update=function(t){},o}(i),u={zmodel:p,zif:c,ztext:function(t){function o(){for(var o=[],e=arguments.length;e--;)o[e]=arguments[e];t.apply(this,o)}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.update=function(t){this.el.textContent=t},o}(i),zfor:a},s=/z-(\w+)/,f=function(){};return f.prototype.consturctor=function(o){var e=o.el,n=o.data;r(n),t(document.querySelector(e))},f});
//# sourceMappingURL=tinvm.min.js.map
